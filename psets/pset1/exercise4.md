# Exercise 4

1. **concept** URLShortener[User, URL]\
   **purpose** creates alternate, shorter URL links for convenience\
   **principle** after a user generates a short URL for a website, anyone can use the short URL to access the website

   **state**\
   a set of ShortURLs with:\
   a creator User\
   a suffix String\
   a url URL

   **actions**

   createShortURL (creator: User, url: URL, suffix: String): (shortURL: ShortURL)\
   **requires**: there does not exist a ShortURL with the given suffix\
   **effects**: create a short URL with the given suffix and creator, that navigates to the given URL

   createShortURL (creator: User, url: URL): (shortURL: ShortURL)\
   **effects**: create a ShortURL with the given creator and a randomly generated suffix that no other ShortURL has, navigating to the given URL

   deleteShortURL (creator: User, suffix: String):\
   **requires**: a ShortURL with the given suffix and creator exists\
   **effects**: deletes the ShortURL with the given suffix

2. **concept** ConferenceRoomBooking[Room, Time]\
   **purpose** book conference rooms in an organization\
   **principle** after a user registers with a username and a password, they can authenticate with those fields to have access to their account and book rooms at specific time slots.

   **state**\
   a set of Users with:\
   a username String\
   a password String\
   a set of Bookings

   a set of Bookings with:\
   a reserver User\
   a room Room
   a startTime Time\
   an endTime Time

   **actions**

   book (reserver: User, room: Room, start: Time, end: Time): (book: Book)\
   **requires**: reserver exists, there exists no booking for given room with (startTime >= start and endTime <= end)\
   **effects**: create a new Booking at the given room during the time slot [start, end]

   cancel (booking: Booking):\
   **requires**: booking exists\
   **effects**: removes Booking object

   registerUser (username: String, password: String): (user: User)\
   **requires**: no User with username exists\
   **effects**: create a new User with the given username and password, and Bookings set empty

   authenticateUser (username: String, password: String): (user: User)\
   **requires**: User with the same username and password exists\
   **effects**: grants access to the User associated with that username and password

3. **concept** ElectronicBoardingPass[Gate, Seat, Time, Status]\
   **purpose** provide passengers with an electronic boarding pass with continuously updated information\
   **principle** a passenger is issued a boarding pass with important information about the flight, including the gate, status, departure time, arrival time, boarding time, and seat. This information can be updated so that passengers can see the changes on their pass.

   **state**\
   a set of BoardPass with:\
   a passenger String\
   a flight Flight\
   a seat Seat\
   a boardTime Time

   a set of Flights with:\
   a gate Gate\
   a status Status\
   a departTime Time\
   an arrivalTime Time

   **actions**

   createPass (passenger: String, flight: Flight, seat: Seat, board: Time): (pass: BoardPass)\
   **effects**: create a new boarding pass for the given passenger for the given flight with unique information: seat and boardTime included.

   update (pass: BoardPass, flight: Flight, seat: Seat, board: Time):\
   **requires**: pass exists\
   **effects**: updates pass with new flight information (i.e., updated gate, status, departTime, arrivalTime), new seat, and new boardTime

   passengerCancel (pass: BoardPass):\
   **requires**: pass exists\
   **effects**: deletes pass; passenger associated with this BoardPass can no longer board the flight

   board (pass: BoardPass):\
   **requires**: pass exists and status of flight in pass is not canceled\
   **effects**: deletes BoardPass when passenger checks in and boards their flight

**Notes**

1. URLShortener

To handle the suffix of the shortened URL being optional, I created overloaded methods for creating the shortened URL, one where a user provides the suffix, and another where a suffix is not provided but generated by the concept. For completeness, I added an action for a user who created a shortURL to delete it.

2. ConferenceRoomBooking

To illustrate the constraint that you can not book a room if another Booking has an overlapping time with your booking in the same room, I separated time slots into a start and end time attribute. I also defined a set of users for the state so that this concept remains exclusive to authorized users of the company using the service.

3. ElectronicBoardingPass

I separated information about a flight that is the same for everyone (gate, status, departure and arrival times) and not the same (seat, boarding Time) into separate states. _update_ is intended for airlines to use, and can update all of this information by using the attributes in the provided flight object. The generic parameter Status can be used to represent multiple things about the flight, such as if it's On Time, Delayed, or even Canceled, which is used as a precondition in the **board** method. This differs from a passenger canceling a flight themselves through the _passengerCancel_ action, which deletes their pass and cancels only their ticket and not everyone on the flight.
